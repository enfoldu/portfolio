{"version":3,"sources":["table.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"table.js","sourcesContent":["/*=============================================\n =                Listeners                  =\n =============================================*/\n\n/**\n *   Listens for button clicks within modal.\n *\n */\n$(\"#modal :button\").click(function (event) {\n    handleClick($(this));\n});\n\n/**\n *  Listens for link clicks within modal.\n *\n */\n$(\"#modal a\").click(function (event) {\n    handleClick($(this));\n});\n\n/*=============================================\n =                  Functions               =\n =============================================*/\n\n/**\n *  Populates modal with specific content.\n *\n */\nfunction populateModal(modal, content) {\n    $.each(content, function (key, value) {\n        // Populate overview.\n        modal.find('.modal-body span#' + key).text(value);\n        // Populate input fields.\n        modal.find('.modal-body #' + key).val(value);\n        // Populate buttons.\n        if (key == 'id') {\n            $.each(modal.find('[data-method]'), function (k, v) {\n                modal.find(v).data('url', modal.find('form').attr('action') + '/' + value);\n            });\n        }\n    });\n}\n\n/**\n *  Sends ajax request.\n *\n */\nfunction sendAjax(form, url, type, options) {\n\n    var formData = form.serializeArray();\n\n    formData.push({name: 'options', value: options});\n\n    $.ajaxSetup({\n        headers: {\n            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n        }\n    });\n\n    $.ajax(this.href, {\n        url: url,\n        data: formData,\n        type: type,\n        success: function (data) {\n            location.reload();\n        },\n        error: function (data) {\n            var errors = data.responseJSON;\n            handleErrors(form, errors);\n        }\n    });\n}\n\nfunction handleErrors(form, errors) {\n    clearErrors(form);\n    $.each(errors, function (key, value) {\n        form.find('#' + key + '.help-block').text(value).fadeIn(\"slow\");\n    });\n}\n\nfunction clearErrors(form) {\n    form.find('.help-block').attr('style', 'display: none').text('');\n}\n\n/**\n *  Checks if item clicked has a method.\n *  If found then send ajax request.\n *\n */\nfunction handleClick(item) {\n    var method = item.data('method');\n\n    // Check if click has method (POST, DELETE)\n    if (typeof method !== typeof undefined && method !== false) {\n        sendAjax($(\"#modal form\"), item.data('url'), method, JSON.stringify($('.role-selector').val()));\n    }\n}"]}